<html>
    <head>
        <title>Cave Explorer</title>
    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-1DQEM7K2ZV"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-1DQEM7K2ZV');
</script>
</head>
    <style>
html, body {
  margin: 0;
  padding: 0;
  height: 100%;
}

body {
  display: flex;
  align-items: center;
  justify-content: center;
}
.back-button {
    text-decoration: none;
    color: #00ff00;
    background-color: transparent;
    border: 1px solid #00ff00;
    padding: 10px 20px;
    border-radius: 5px;
    font-weight: bold;
    cursor: pointer;
}
.back-button {
  position: absolute;
  top: 20px;     /* Adjust the distance from the top */
  left: 20px;    /* Adjust the distance from the left */
}
.back-button:hover {
    background-color: #66ff66;
}
div {
  width: 100vw;
  height: 100vh;
  background-color: black; /* You can change the background color */
}
/* Add the canvas border styling */
canvas {
border: 2px solid #00ff00; /* Bright green border */
border-radius: 5px; /* Optional rounded corners */
}
    </style>
    <body>
        <div id="div" align="center" style="margin: auto;"><canvas id="canvas"></canvas></div>
    <script src="https://www.tinkerdoodle.cc/static/jquery-3.5.1.min.js"></script>
        <script src="https://www.tinkerdoodle.cc/ka/processing-ka.js"></script>
        <script>

var processingJS;            
            
new Processing("canvas", proc => {

    with (proc) {
    processingJS = proc;
        size(400, 400);
        angleMode = "degrees";
/////////////////        
/*
Wow! 12 Votes! EPIC.
Fixed a bunch of bugs.
How: {
Hold mouse to go up, collect coins and shields, and buy trails and stuff. The NaNaN is intended. XD
Avoid the lava, the ground and "roof", and bats. Oh yeah. Use your common sense on the glowing yellow eyes.
}
Leaderboard:{
1. Thriftypiano: "
{
1000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
}
, I rock! (Totally didn't cheat)"
2. LordBlaze64: "New high of 857."
3. Kevin: "591, Bananas in second place!"
4. The Coding Legend (BIO): "First, did you really get 2347, and second, I got 589"
5. Jeff: "547, I beat you!"
6. TooManyHashtags: "I got 217"
}

*/
//Change this if you dare.
var money = 0;
{
    var dots = [
        [random(50, 75), 400]
    ];
    var dots2 = [
        [random(50, 75), 400]
    ];
    var lin = 0;
    var drops = [];
    var trail = [];
    var coins = [];
    var player = [200, 0, false, 0, false];
    var col = [127.5, 127.5, 127.5];
    var pcol = [127.5, 127.5, 127.5];
    var pressed = false;
    var score = 0;
    var scroll = [0, 0];
    var mode = "menu";
    var dude = 0;
    var message = "Cheater. No changing the money.";
    var things = [
        [127.5, 127.5, 127.5, "The basic one.", 0.1, 0.05, 1, 1, 0],
        [255, 0, 0, "Red: Fast and heavy", 0.25, 0.1, 2.5, false, 5],
        [0, 255, 255, "Teal: Speed", 0.2, 0.1, 5, false, 10],
        [255, 255, 255, "Ghost: Start with\n a shield.", 0.2, 0.1, 1, false, 25],
        [0, 127.5, 0, "Turtle: Says it in the\nname.", 0.05, 0.02, 0.5, false, 7],
        [255, 255, 0, "Yellow: Basic, but\nbetter in everything.", 0.2, 0.1, 1.5, false, 8],
        [0, 0, 0, "Black: I wonder who\nbuys something\ninvisible?", 0.1, 0.05, 1, false, 2],
        [127.5, 0, 127.5, "Very expensive, but\nit is no better than\nthe basic one.", 0.1, 0.05, 1, false, 50],
    ];
    var cheating = 0;
    var trails = [
        [127.5, 127.5, 127.5, 1, 0],
        [255, 0, 0, false, 5],
        [0, 255, 255, false, 7],
        [255, 255, 255, false, 10],
        [0, 127.5, 0, false, 4],
        [255, 255, 0, false, 5],
        [0, 0, 0, false, 1],
        [127.5, 0, 127.5, false, 25],
    ];
    var highscore = 0;
    var guy = 0;
    var bats = [];
    var shields = [];
    var eyes = [];
    textSize(25);
    textAlign(CENTER, CENTER);
    var eye = function(x, y) {
        noStroke();
        fill(255, 255, 0);
        pushMatrix();
        translate(x - 5, y);
        rotate(15);
        translate(-(x - 5), -y);
        ellipse(x - 5, y, 5, 2.5);
        popMatrix();
        pushMatrix();
        translate(x + 5, y);
        rotate(-15);
        translate(-(x + 5), -y);
        ellipse(x + 5, y, 5, 2.5);
        popMatrix();
    };
    var menu = function() {
        stroke(127.5, 127.5, 127.5, 127.5);
        strokeWeight(5);
        background(0, 0, 0);
        fill(127.5, 127.5, 127.5, 127.5);
        ellipse(200, 200, 100, 100);
        ellipse(50, 200, 100, 100);
        ellipse(350, 200, 100, 100);
        textSize(25);
        fill(127.5, 127.5, 0);
        text("Play", 200, 200);
        text("Shop", 50, 200);
        text("NaNaN", 350, 200);
        textSize(50);
        text("Cave\nExploration", 200, 75);
    };
    var play = function() {
        background(0, 0, 0);
        if (dots[dots.length - 1][0] <= 0) {
            dots.push([random(5, 10), 400, false]);
        }
        if (dots2[dots2.length - 1][0] <= 0) {
            dots2.push([random(5, 10), 400, false]);
        }
        if (400 - dots[dots.length - 1][0] - dots2[dots2.length - 1][0] <= 50) {
            dots.push([dots[dots.length - 1][0] + random(-5, 0), 400, false]);
            dots2.push([dots2[dots2.length - 1][0] + random(-5, 0), 400, false]);
        }
        if (floor(random(0, 100)) === floor(random(0, 100))) {
            dots.push([dots[dots.length - 1][0] + random(-5, 5), 400, true]);
        } else {
            dots.push([dots[dots.length - 1][0] + random(-5, 5), 400, false]);
        }
        dots2.push([dots2[dots2.length - 1][0] + random(-5, 5), 400]);
        if (floor(random(0, 500)) === floor(random(0, 500))) {
            coins.push([dots[dots.length - 1][0] + random(25, 50), 400, false, 0]);
        }
        if (floor(random(0, 500)) === floor(random(0, 500))) {
            coins.push([400 - (dots2[dots2.length - 1][0] + random(25, 50)), 400, false, 0]);
        }
        if (floor(random(0, 100)) === floor(random(0, 100)) & dots.length > 1 & dots2.length > 1) {
            bats.push([abs(dots[dots.length - 1][0] + 400 - dots2[dots2.length - 1][0]) / 2 + random(-25, 25), 400]);
        }
        if (floor(random(0, 2500)) === floor(random(0, 2500))) {
            coins.push([dots[dots.length - 1][0] + random(50, 100), 400, false, 0]);
            coins.push([coins[coins.length - 1][0], 420, false, 0]);
            coins.push([coins[coins.length - 1][0], 440, false, 0]);
            coins.push([coins[coins.length - 1][0], 460, false, 0]);
            coins.push([coins[coins.length - 1][0], 480, false, 0]);
        }
        if (floor(random(0, 2500)) === floor(random(0, 2500))) {
            coins.push([400 - (dots2[dots2.length - 1][0] + random(50, 100)), 400, false, 0]);
            coins.push([coins[coins.length - 1][0], 420, false, 0]);
            coins.push([coins[coins.length - 1][0], 440, false, 0]);
            coins.push([coins[coins.length - 1][0], 460, false, 0]);
            coins.push([coins[coins.length - 1][0], 480, false, 0]);
        }
        if (floor(random(0, 2500)) === floor(random(0, 2500))) {
            shields.push([400 - (dots2[dots2.length - 1][0] + random(25, 50)), 400, false, 0]);
        }
        if (floor(random(0, 2500)) === floor(random(0, 2500))) {
            shields.push([dots[dots.length - 1][0] + random(25, 50), 400, false, 0]);
        }
        if (floor(random(0, 250)) === floor(random(0, 250)) & dots.length > 1 & dots2.length > 1) {
            eyes.push([400 - dots2[dots2.length - 1][0] + random(-37.5, -20), 400]);
        }
        fill(0, 0, 0);
        for (var i = 0; i < dots.length; i++) {
            stroke(127.5, 127.5, 127.5);
            strokeWeight(1);
            line(dots[i][1], dots[i][0], dots[i][1], 0);
            if (dots[i][2] === true) {
                strokeWeight(2.5);
                stroke(255, 0, 0);
                point(dots[i][1], dots[i][0]);
            }
                dots[i][1] -= things[player[3]][6];
            if (floor(dots[i][1]) === 100 & player[0] <= dots[i][0]) {
                player[2] = true;
            }
            if (dots[i][2] === true & floor(random(0, 50)) === floor(random(0, 50))) {
                drops.push([dots[i][1], dots[i][0], 1]);
            }
            if (dots[i][1] <= 0) {
                dots.splice(i, 1);
            }
        }
        stroke(255, 0, 0);
        strokeWeight(2.5);
        for (var i = 0; i < drops.length; i++) {
            point(drops[i][0], drops[i][1]);
                drops[i][0] -= things[player[3]][6];
            drops[i][1] += drops[i][2];
            drops[i][2] += things[player[3]][5] / 10 * things[player[3]][6];
            if (drops[i][0] >= 98 & drops[i][0] <= 102 & drops[i][1] > player[0] - 2 & drops[i][1] < player[0] + 2 & player[4] === false) {
                player[2] = true;
            }
            if (drops[i][1] >= 400) {
                drops.splice(i, 1);
            }
        }
        if (bats.length > 0) {
            strokeWeight(2.5);
            stroke(100, 100, 100);
            for (var i = 0; i < bats.length; i++) {
                point(bats[i][1], bats[i][0]);
                point(bats[i][1] - 2.5, bats[i][0]);
                point(bats[i][1] + 2.5, bats[i][0]);
                point(bats[i][1], bats[i][0] - 2.5);
                    bats[i][1] -= things[player[3]][6];
                bats[i][1] -= 2.5;
                if (bats[i][1] >= 95 & bats[i][1] <= 105 & bats[i][0] > player[0] - 5 & bats[i][0] < player[0] + 5 & player[4] === false) {
                    player[2] = true;
                }
                if(bats[i][1] <= 0) {
                    bats.splice(i, 1);
                }
            }
        }
        stroke(127.5, 127.5, 127.5);
        strokeWeight(1);
        for (var i = 0; i < dots2.length; i++) {
            line(dots2[i][1], 400 - dots2[i][0], dots2[i][1], 400);
                dots2[i][1] -= things[player[3]][6];
            if (floor(dots2[i][1]) === 100 & player[0] >= 400 - dots2[i][0]) {
                player[2] = true;
            }
            if (dots2[i][1] <= 0) {
                dots2.splice(i, 1);
            }
        }
        stroke(255, 255, 0);
        strokeWeight(1);
        fill(0, 0, 0, 0);
        for (var i = 0; i < coins.length; i++) {
            ellipse(coins[i][1], coins[i][0], 5, 10);
                coins[i][1] -= things[player[3]][6];
            if (coins[i][1] >= 97.5 & coins[i][1] <= 102.5 & coins[i][0] > player[0] - 5 & coins[i][0] < player[0] + 5 & coins[i][2] === false) {
                money++;
                cheating++;
                coins[i][2] = true;
                coins[i][3] = -things[player[3]][5] * 10;
            }
            if (coins[i][2] === true) {
                coins[i][0] += coins[i][3];
                coins[i][3] += things[player[3]][5];
            }
        }
        fill(0, 200, 255, 62.75);
        stroke(0, 200, 255);
        for (var i = 0; i < shields.length; i++) {
            ellipse(shields[i][1], shields[i][0], 5, 10);
                shields[i][1] -= things[player[3]][6];
            if (shields[i][1] >= 97.5 & shields[i][1] <= 102.5 & shields[i][0] > player[0] - 5 & shields[i][0] < player[0] + 5 & shields[i][2] === false) {
                player[4] = 2500;
                shields[i][2] = true;
                shields[i][3] = -things[player[3]][5] * 10;
            }
            if (shields[i][2] === true) {
                shields[i][0] += shields[i][3];
                shields[i][3] += things[player[3]][5];
            }
        }
        stroke(col[0], col[1], col[2]);
        for (var i = 0; i < trail.length; i++) {
            point(trail[i][0], trail[i][1]);
                trail[i][0] -= things[player[3]][6];
            if (trail[i][0] <= 0) {
                trail.splice(i, 1);
            }
        }
        fill(255, 255, 0);
        noStroke();
        for (var i = 0; i < eyes.length; i++) {
            eye(eyes[i][1], eyes[i][0]);
            if (player[2] === false) {
                eyes[i][1] -= things[player[3]][6];
            }
            if (eyes[i][1] >= 95 & eyes[i][1] <= 105 & eyes[i][0] > player[0] - 5 & eyes[i][0] < player[0] + 5 & player[4] === false) {
                player[2] = true;
            }
            if (eyes[i][1] <= -5) {
                eyes.splice(i, 1);
            }
        }
        dude += things[player[3]][6];
        player[0] += player[1];
        player[1] += things[player[3]][5];
        if (pressed === true & player[2] === false) {
            player[1] -= things[player[3]][4];
        }
        trail.push([100, player[0]]);
        if (player[2] === false) {
            score += things[player[3]][6] / 10;
        }
        if(player[2] === true) {
            things[player[3]][6] = -abs(things[player[3]][6]);
        }
        fill(255, 255, 255, 200);
        text(floor(score), 200, 200);
        strokeWeight(2.5);
        stroke(pcol[0], pcol[1], pcol[2]);
        point(100, player[0]);
        strokeWeight(1);
        if (player[4] !== false) {
            fill(0, 200, 255, 62.5);
            stroke(0, 255, 255);
            arc(100, player[0], 10, 10, 0, 360 * player[4] / 500);
        }
        player[4]--;
        if (player[4] <= 0) {
            player[4] = false;
        }
        stroke(255, 255, 255);
        line(guy - dude + 100, 0, guy - dude + 100, 400);
        noStroke();
        fill(255, 255, 255);
        textAlign(LEFT, CENTER);
        textSize(25);
        text("H\nI\nG\nH\nS\nC\nO\nR\nE", guy - dude + 100, 200);
        textAlign(CENTER, CENTER);
        lin -= things[player[3]][6];
        strokeWeight(1);
        if (player[0] >= 400) {
            mode = "dead";
            things[player[3]][6] = abs(things[player[3]][6]);
            dots = [
                [random(50, 75), 400]
            ];
            dots2 = [
                [random(50, 75), 400]
            ];
            trail = [];
            player = [200, 0, false, player[3]];
            coins = [];
            pressed = false;
            drops = [];
            shields = [];
            bats = [];
            eyes = [];
            lin = 0;
            if (highscore < score) {
                highscore = score;
                guy = dude;
            }
            dude = 0;
        }
    };
    var dead = function() {
        textSize(25);
        background(0, 0, 0);
        eye(201, 344);
        eye(67, 104);
        eye(357, 174);
        eye(51, 174);
        eye(57, 334);
        eye(207, 104);
        eye(257, 374);
        eye(232, 204);
        eye(263, 323);
        eye(157, 44);
        fill(255, 255, 255);
        text("You died.\nYou got a score of " + floor(score) + ".\nNot bad!\nClick to return to menu.", 200, 200);
    };
    var shop = function() {
        stroke(127.5, 127.5, 127.5, 127.5);
        background(0, 0, 0);
        fill(127.5, 127.5, 127.5, 127.5);
        rect(100, 100, 200, 200);
        triangle(325, 125, 325, 175, 350, 150);
        triangle(325, 225, 325, 275, 350, 250);
        triangle(75, 125, 75, 175, 50, 150);
        triangle(75, 225, 75, 275, 50, 250);
        ellipse(37.5, 37.5, 75, 75);
        fill(127.5, 127.5, 0);
        text(things[scroll[0]][3], 200, 50);
        noStroke();
        fill(things[scroll[0]][0], things[scroll[0]][1], things[scroll[0]][2]);
        ellipse(200, 150, 25, 25);
        fill(trails[scroll[1]][0], trails[scroll[1]][1], trails[scroll[1]][2]);
        ellipse(200, 250, 5, 5);
        textSize(12.5);
        fill(127.5, 127.5, 0);
        text("Speed: " + things[scroll[0]][6] + ", Weight: " + things[scroll[0]][5] * 10 + ", Jump: " + things[scroll[0]][4] * 10, 200, 125);
        textSize(25);
        if (things[scroll[0]][7] === true) {
            text("Bought!", 200, 175);
        } else if (things[scroll[0]][7] === false) {
            text("Buy for " + things[scroll[0]][8] + " coins.", 200, 175);
        } else {
            text("Selected.", 200, 175);
        }
        if (trails[scroll[1]][3] === true) {
            text("Bought!", 200, 275);
        } else if (trails[scroll[1]][3] === false) {
            text("Buy for " + trails[scroll[1]][4] + " coins.", 200, 275);
        } else {
            text("Selected.", 200, 275);
        }
        stroke(0, 0, 0);
        strokeWeight(5);
        line(100, 200, 300, 200);
        fill(127.5, 127.5, 0);
        text("You have " + money + " coins.\n" + "Trails don't affect performance.", 200, 350);
        fill(255, 255, 0);
        text("Back", 37.5, 37.5);
    };
    draw = function() {
        if (mode === "menu") {
            menu();
        }
        if (mode === "play") {
            play();
        }
        if (mode === "dead") {
            dead();
        }
        if (mode === "shop") {
            shop();
        }
        if (money !== cheating) {
            throw message;
        }
    };
    mousePressed = function() {
        if (mode === "play") {
            pressed = true;
        }
    };
    mouseReleased = function() {
        if (mode === "play") {
            pressed = false;
        }
        if (mode === "menu") {
            if (dist(mouseX, mouseY, 200, 200) <= 50) {
                mode = "play";
                if (player[3] === 3) {
                    player[4] = 2500;
                }
            }
            if (dist(mouseX, mouseY, 50, 200) <= 50) {
                mode = "shop";
            }
        }
        if (mode === "dead") {
            mode = "menu";
            score = 0;
        }
        if (mode === "shop") {
            if (mouseX > 50 & mouseX < 75 & mouseY > 125 & mouseY < 175 & scroll[0] > 0) {
                scroll[0]--;
            }
            if (mouseX > 50 & mouseX < 75 & mouseY > 225 & mouseY < 275 & scroll[1] > 0) {
                scroll[1]--;
            }
            if (mouseX > 325 & mouseX < 350 & mouseY > 125 & mouseY < 175 & scroll[0] < things.length - 1) {
                scroll[0]++;
            }
            if (mouseX > 325 & mouseX < 350 & mouseY > 225 & mouseY < 275 & scroll[1] < trails.length - 1) {
                scroll[1]++;
            }
            if (mouseX > 100 & mouseX < 300 & mouseY > 100 & mouseY < 200) {
                if (things[scroll[0]][7] === false & money >= things[scroll[0]][8]) {
                    for (var i = 0; i < things.length; i++) {
                        if (things[i][7] === 1) {
                            things[i][7] = true;
                        }
                    }
                    player[3] = scroll[0];
                    things[scroll[0]][7] = 1;
                    pcol = [things[scroll[0]][0], things[scroll[0]][1], things[scroll[0]][2]];
                    money -= things[scroll[0]][8];
                    cheating -= things[scroll[0]][8];
                } else if (things[scroll[0]][7] === true) {
                    for (var i = 0; i < things.length; i++) {
                        if (things[i][7] === 1) {
                            things[i][7] = true;
                        }
                    }
                    player[3] = scroll[0];
                    things[scroll[0]][7] = 1;
                    pcol = [things[scroll[0]][0], things[scroll[0]][1], things[scroll[0]][2]];
                }
            }
            if (mouseX > 100 & mouseX < 300 & mouseY > 200 & mouseY < 300) {
                if (trails[scroll[1]][3] === false & money >= trails[scroll[1]][4]) {
                    for (var i = 0; i < trails.length; i++) {
                        if (trails[i][3] === 1) {
                            trails[i][3] = true;
                        }
                    }
                    trails[scroll[1]][3] = 1;
                    money -= trails[scroll[1]][4];
                    cheating -= trails[scroll[1]][4];
                    col = [trails[scroll[1]][0], trails[scroll[1]][1], trails[scroll[1]][2]];
                } else if (trails[scroll[1]][3] === true) {
                    for (var i = 0; i < trails.length; i++) {
                        if (trails[i][3] === 1) {
                            trails[i][3] = true;
                        }
                    }
                    trails[scroll[1]][3] = 1;
                    col = [trails[scroll[1]][0], trails[scroll[1]][1], trails[scroll[1]][2]];
                }
            }
            if (dist(mouseX, mouseY, 37.5, 37.5) <= 37.5) {
                mode = "menu";
            }
        }
    };
}
/////////////////
    }
});
        </script>
        <button onclick="window.location.href='index.html';" class="back-button">Back to Main Page</button>
    </body>
</html>